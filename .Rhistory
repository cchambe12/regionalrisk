panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
range(site$diff)
range(a.site$diff)
a.site <- site[!(site$meanfspre==0 & site$meanfspost==0),]
a.site <- subset(site, select=c("lat", "long", "diff"))
a.site <- site[!(site$meanfspre==0 & site$meanfspost==0),]
a.site <- subset(a.site, select=c("lat", "long", "diff"))
#a.site<-filter(site, species=="AESHIP")
boundars<-readShapeSpatial("~/Documents/git/regionalrisk/analyses/input/natural_earth_vector/50m_cultural/ne_50m_admin_0_countries.shp")
mapWorld<-fortify(boundars)
quantile(a.site$diff, probs=c(0.1, 0.9))
#a.site$color <- ifelse(a.site$diff < 0, "red", "blue")
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level.., alpha=..level..,
limits=c(-1,1)), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu"))) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
#a.site$color <- ifelse(a.site$diff < 0, "red", "blue")
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level.., alpha=..level..,
col=as.factor(a.site$diff)), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu"))) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
#a.site$color <- ifelse(a.site$diff < 0, "red", "blue")
a.site$diff<-class(as.factor(a.site))
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level.., alpha=..level..), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu"))) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
unique(a.site$diff)
a.site <- site[!(site$meanfspre==0 & site$meanfspost==0),]
a.site <- subset(a.site, select=c("lat", "long", "diff"))
#a.site$color <- ifelse(a.site$diff < 0, "red", "blue")
a.site$diff<-as.factor(a.site$diff))
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level.., alpha=..level..), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu"))) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
unique(a.site$diff)
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level.., alpha=a.site$diff), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu"))) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level.., alpha=a.site$diff), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
a.site <- site[!(site$meanfspre==0 & site$meanfspost==0),]
a.site <- subset(a.site, select=c("lat", "long", "diff"))
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level..), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=diff), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=as.factor(diff)), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
geom_density2d(data=a.site,
aes(x=long, y=lat, fill=as.factor(diff)), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
geom_density2d(data=a.site,
aes(x=long, y=lat)) + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..a.site$diff..)) + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=diff)) + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=diff), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
#a.site$color <- ifelse(a.site$diff < 0, "red", "blue")
a.site <- a.site[!is.na(a.site$diff),]
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=diff), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu"))) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
View(a.site)
class(a.site$diff)
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level..), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
library(egg)
library(RColorBrewer)
library(maptools)
aes <- ggplot() +
geom_polygon(aes(x = mapWorld$long, y = mapWorld$lat, group = mapWorld$group),
color = 'gray', fill="lightgrey", size = .2) + ### This creates the base map
stat_density2d(data=a.site,
aes(x=long, y=lat, fill=..level..), geom="polygon") + theme_classic() + ### this removes extra background features from ggplot2
#geom_jitter(width=3,aes(x=a.site$long, y=a.site$lat), size=0.8, alpha=0.4) +
scale_fill_gradientn(colours=(brewer.pal(9, "RdBu")), limits=c(-1,1)) +
coord_cartesian(ylim=c(30,70),xlim=c(-10,35))+  ### zooms in on Europe
theme(panel.border = element_blank(), ### extra tweaks to background and plot to make sure it doesn't have grid lines, etc.
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
#legend.position = "none",
axis.title = element_blank(),
panel.background = element_rect(fill="grey95")) + ### to make sure the continent doesn't blend in with the ocean
annotate("text",label= "Aesculus \nhippocastanum", col="#CAB1C4", x=-12, y=68,fontface="bold.italic", size=3,
family="Helvetica", hjust=0) + #sc +
#scale_color_manual(values=c("red"="red", "blue"="blue"), labels=c("red" = "More freezes after 1984",
#                                                    "blue" = "Fewer freezes after 1984")) +
labs(color="Difference in \nday of budburst") + ggtitle("")
aes
## Libraries
library(ggplot2)
library(egg)
library(RColorBrewer)
library(maptools)
